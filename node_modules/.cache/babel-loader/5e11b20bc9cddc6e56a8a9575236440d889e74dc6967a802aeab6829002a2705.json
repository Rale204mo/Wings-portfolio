{"ast":null,"code":"import _objectSpread from\"C:/Users/DEll/Videos/wings/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{getProducts,addProduct,updateProduct,deleteProduct}from'../../Db';import'./Products.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Products(){const[products,setProducts]=useState([]);const[form,setForm]=useState({name:'',description:'',price:0});const[editingId,setEditingId]=useState(null);const fetch=async()=>{const res=await getProducts();setProducts(res.data);};useEffect(()=>{fetch();},[]);const handleAdd=async e=>{e.preventDefault();if(editingId){await updateProduct(editingId,form);setEditingId(null);}else{await addProduct(form);}setForm({name:'',description:'',price:0});fetch();};const handleEdit=p=>{setEditingId(p.id);setForm({name:p.name,description:p.description,price:p.price});};const handleDelete=async id=>{if(!window.confirm('Delete product?'))return;await deleteProduct(id);fetch();};return/*#__PURE__*/_jsxs(\"div\",{className:\"products-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Products\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"product-form\",onSubmit:handleAdd,children:[/*#__PURE__*/_jsx(\"input\",{value:form.name,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{name:e.target.value})),placeholder:\"Name\",required:true}),/*#__PURE__*/_jsx(\"input\",{value:form.description,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{description:e.target.value})),placeholder:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:form.price,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{price:Number(e.target.value)})),placeholder:\"Price\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:editingId?'Update':'Add Product'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:products.map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:p.name}),/*#__PURE__*/_jsx(\"p\",{children:p.description}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[p.price,\" ZAR\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"edit-btn\",onClick:()=>handleEdit(p),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-btn\",onClick:()=>handleDelete(p.id),children:\"Delete\"})]})]},p.id))})]});}","map":{"version":3,"names":["React","useEffect","useState","getProducts","addProduct","updateProduct","deleteProduct","jsx","_jsx","jsxs","_jsxs","Products","products","setProducts","form","setForm","name","description","price","editingId","setEditingId","fetch","res","data","handleAdd","e","preventDefault","handleEdit","p","id","handleDelete","window","confirm","className","children","onSubmit","value","onChange","_objectSpread","target","placeholder","required","type","Number","map","onClick"],"sources":["C:/Users/DEll/Videos/wings/src/components/Products/Products.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { getProducts, addProduct, updateProduct, deleteProduct } from '../../Db';\nimport './Products.css';\n\nexport default function Products(){\n  const [products, setProducts] = useState([]);\n  const [form, setForm] = useState({name:'', description:'', price:0});\n  const [editingId, setEditingId] = useState(null);\n\n  const fetch = async ()=> {\n    const res = await getProducts();\n    setProducts(res.data);\n  };\n\n  useEffect(()=>{ fetch(); }, []);\n\n  const handleAdd = async (e)=>{\n    e.preventDefault();\n    if(editingId){\n      await updateProduct(editingId, form);\n      setEditingId(null);\n    } else {\n      await addProduct(form);\n    }\n    setForm({name:'', description:'', price:0});\n    fetch();\n  };\n\n  const handleEdit = (p)=>{\n    setEditingId(p.id);\n    setForm({name:p.name, description:p.description, price:p.price});\n  };\n\n  const handleDelete = async (id)=>{\n    if(!window.confirm('Delete product?')) return;\n    await deleteProduct(id);\n    fetch();\n  };\n\n  return (\n    <div className=\"products-container\">\n      <h2>Products</h2>\n      <form className=\"product-form\" onSubmit={handleAdd}>\n        <input value={form.name} onChange={e=>setForm({...form, name:e.target.value})} placeholder=\"Name\" required />\n        <input value={form.description} onChange={e=>setForm({...form, description:e.target.value})} placeholder=\"Description\" />\n        <input type=\"number\" value={form.price} onChange={e=>setForm({...form, price:Number(e.target.value)})} placeholder=\"Price\" />\n        <button type=\"submit\">{editingId ? 'Update' : 'Add Product'}</button>\n      </form>\n\n      <div className=\"products-grid\">\n        {products.map(p=>(\n          <div className=\"product-card\" key={p.id}>\n            <h3>{p.name}</h3>\n            <p>{p.description}</p>\n            <p><strong>{p.price} ZAR</strong></p>\n            <div className=\"actions\">\n              <button className=\"edit-btn\" onClick={()=>handleEdit(p)}>Edit</button>\n              <button className=\"delete-btn\" onClick={()=>handleDelete(p.id)}>Delete</button>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}