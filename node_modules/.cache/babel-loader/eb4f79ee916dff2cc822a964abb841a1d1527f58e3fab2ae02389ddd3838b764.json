{"ast":null,"code":"import _objectSpread from\"C:/Users/DEll/Videos/wings/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{getCustomers,addCustomer,updateCustomer,deleteCustomer}from'../../Db';import'./Customers.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Customers(){const[customers,setCustomers]=useState([]);const[form,setForm]=useState({name:'',email:'',phone:''});const[editingId,setEditingId]=useState(null);const fetch=async()=>{const res=await getCustomers();setCustomers(res.data);};useEffect(()=>{fetch();},[]);const handleAdd=async e=>{e.preventDefault();if(editingId){await updateCustomer(editingId,form);setEditingId(null);}else{await addCustomer(form);}setForm({name:'',email:'',phone:''});fetch();};const handleEdit=c=>{setEditingId(c.id);setForm({name:c.name,email:c.email,phone:c.phone});};const handleDelete=async id=>{if(!window.confirm('Delete customer?'))return;await deleteCustomer(id);fetch();};return/*#__PURE__*/_jsxs(\"div\",{className:\"customers-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Customers\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"customer-form\",onSubmit:handleAdd,children:[/*#__PURE__*/_jsx(\"input\",{value:form.name,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{name:e.target.value})),placeholder:\"Name\",required:true}),/*#__PURE__*/_jsx(\"input\",{value:form.email,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{email:e.target.value})),placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{value:form.phone,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{phone:e.target.value})),placeholder:\"Phone\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:editingId?'Update':'Add Customer'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"customers-list\",children:customers.map(c=>/*#__PURE__*/_jsxs(\"div\",{className:\"customer-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:c.name}),/*#__PURE__*/_jsxs(\"p\",{children:[c.email,\" - \",c.phone]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"edit-btn\",onClick:()=>handleEdit(c),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-btn\",onClick:()=>handleDelete(c.id),children:\"Delete\"})]})]},c.id))})]});}","map":{"version":3,"names":["React","useEffect","useState","getCustomers","addCustomer","updateCustomer","deleteCustomer","jsx","_jsx","jsxs","_jsxs","Customers","customers","setCustomers","form","setForm","name","email","phone","editingId","setEditingId","fetch","res","data","handleAdd","e","preventDefault","handleEdit","c","id","handleDelete","window","confirm","className","children","onSubmit","value","onChange","_objectSpread","target","placeholder","required","type","map","onClick"],"sources":["C:/Users/DEll/Videos/wings/src/components/Customers/Customers.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { getCustomers, addCustomer, updateCustomer, deleteCustomer } from '../../Db';\nimport './Customers.css';\n\nexport default function Customers(){\n  const [customers, setCustomers] = useState([]);\n  const [form, setForm] = useState({name:'', email:'', phone:''});\n  const [editingId, setEditingId] = useState(null);\n\n  const fetch = async ()=> {\n    const res = await getCustomers();\n    setCustomers(res.data);\n  };\n\n  useEffect(()=>{ fetch(); }, []);\n\n  const handleAdd = async (e)=>{\n    e.preventDefault();\n    if(editingId){\n      await updateCustomer(editingId, form);\n      setEditingId(null);\n    } else {\n      await addCustomer(form);\n    }\n    setForm({name:'', email:'', phone:''});\n    fetch();\n  };\n\n  const handleEdit = (c)=>{\n    setEditingId(c.id);\n    setForm({name:c.name, email:c.email, phone:c.phone});\n  };\n\n  const handleDelete = async (id)=>{\n    if(!window.confirm('Delete customer?')) return;\n    await deleteCustomer(id);\n    fetch();\n  };\n\n  return (\n    <div className=\"customers-container\">\n      <h2>Customers</h2>\n      <form className=\"customer-form\" onSubmit={handleAdd}>\n        <input value={form.name} onChange={e=>setForm({...form, name:e.target.value})} placeholder=\"Name\" required />\n        <input value={form.email} onChange={e=>setForm({...form, email:e.target.value})} placeholder=\"Email\" />\n        <input value={form.phone} onChange={e=>setForm({...form, phone:e.target.value})} placeholder=\"Phone\" />\n        <button type=\"submit\">{editingId ? 'Update' : 'Add Customer'}</button>\n      </form>\n\n      <div className=\"customers-list\">\n        {customers.map(c=>(\n          <div className=\"customer-card\" key={c.id}>\n            <h3>{c.name}</h3>\n            <p>{c.email} - {c.phone}</p>\n            <div className=\"actions\">\n              <button className=\"edit-btn\" onClick={()=>handleEdit(c)}>Edit</button>\n              <button className=\"delete-btn\" onClick={()=>handleDelete(c.id)}>Delete</button>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}